最佳实践之插件
============

插件是代码复用的一种形式，属于黑盒复用的范畴。

### 插件中一般没有模型定义
插件中一般没有模型定义，特别是有较复杂外键（链向外部模型）的情况。都不在插件中定义。如果发现此插件需要定义这样的模型。那说明这个问题本身不适合做成插件。

如果模型是相对独立（没有外键或比较固定，非常确定其依赖关系的外键）的，就可以写在插件中。

### 插件最好不要依赖于某个外部模型
会造成应用的局限性。

### 插件层次不能封装得太深
插件充当的角色不应该是用于面向用户的产品模块，其定位应该是产品模块下面的一层。过度的封装会增加使用复杂度、降低灵活性和可用性。

对于面向用户的产品模块，使用白盒复用更合适（需要很好的结构抽取说明文档或很好的代码风格）。